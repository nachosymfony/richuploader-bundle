{% block rich_image_widget %}
    {% include 'nacholibreRichUploaderBundle::styles.html.twig' %}

    {% set multiple = form.vars.nacholibre_multiple %}
    {% set size = form.vars.nacholibre_size %}
    {% set entity_class = form.vars.nacholibre_entity_class %}

    <div class='main_sortable_images nacholibre_{{ form.vars.name }} size-{{ size }}' data-multiple='{{ multiple }}' data-entity='{{ entity_class }}'>
        {{ form_errors(form) }}

        <div style=' display:none; ' class='nacholibre_ids'>
            {{ block('form_widget') }}
        </div>
        <div id="sortable" data-name='{{ form.vars.name }}' class='{{ form.vars.name }}'>
            {% include 'nacholibreRichUploaderBundle::show_image.html.twig' with {images: form.vars.images_data, multiple: multiple} %}
        </div>
        <div class='rich_image_thumb upload'>
            <input type="file" name="images" class='imageUploader' id='image_uploader' accept="image/gif, image/jpeg, image/png">
            <div class='selectImages text-center'>
                {% if multiple %}
                    <span class='addI'>+</span>
                    <div class='slog'>
                    {{ 'add_images' | trans }}
                    </div>
                {% else %}
                    <img src='{{ asset('bundles/nacholibrerichuploader/img/upload.png') }}' class='uploadImg' />
                    <div class='slog'>
                    {{ 'add_image' | trans }}
                </div>
                {% endif %}
            </div>
        </div>
        <div class='message'>
            <div>
                <span>!</span> {{ 'changes_after_save' | trans }}
            </div>
        </div>
    </div>

    {% include 'nacholibreRichUploaderBundle::scripts.html.twig' with {name: form.vars.name} %}
{% endblock %}
